<!DOCTYPE html>
<html>
  <head>
    <title>Parcel Sandbox</title>
    <meta charset="UTF-8" />
  </head>

  <body>
    <table id="data-table">
      <thead>
        <tr>
          <th>Username</th>
          <th>Email</th>
          <th>Address</th>
          <th>Admin</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Webmaster</td>
          <td>example@email.com</td>
          <td>Demoland 123</td>
          <td>X</td>
        </tr>
        <tr>
          <td>User123</td>
          <td>example@email.com</td>
          <td>Userplace 321</td>
          <td>-</td>
        </tr>
        <tr>
          <td>AnotherUser222</td>
          <td>example@email.com</td>
          <td>AnotherPlace 21</td>
          <td>-</td>
        </tr>
      </tbody>
    </table>

    <br />

    <form runat="server">
      <label>Username</label>
      <input type="text" id="input-username" /> <br />
      <label>Email</label>
      <input type="text" id="input-email" /> <br />
      <label>Address</label>
      <input type="text" id="input-address" /> <br />
      <label>Admin status</label>
      <input type="text" id="input-admin" /> <br />
      <label>Image</label>
      <input
        accept="image/"
        type="file"
        id="input-image"
        width="64"
        height="64"
        onchange="loadImage(event)"
      />
      <img id="output" />
      <br />
      <button id="submit-data" onclick="submitData(); return false;">
        Submit
      </button>
    </form>

    <button id="empty-table" onclick="emptyData(); return false;">
      Empty table
    </button>

    <script>
      function submitData() {
        var username = document.getElementById("input-username").value;
        var email = document.getElementById("input-email").value;
        var address = document.getElementById("input-address").value;
        var adminStatus = document.getElementById("input-admin").value;
        var table = document.getElementById("data-table");

        var rows = table.rows;

        for (var i = 0; i < rows.length; i++) {
          if (username == rows[i].cells[0].innerHTML) {
            rows[i].cells[1].innerHTML = email;
            rows[i].cells[2].innerHTML = address;
            rows[i].cells[3].innerHTML = adminStatus;
            return;
          }
        }

        var row = table.insertRow();

        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        var cell3 = row.insertCell(2);
        var cell4 = row.insertCell(3);

        cell1.innerHTML = username;
        cell2.innerHTML = email;
        cell3.innerHTML = address;
        cell4.innerHTML = adminStatus;
      }

      function emptyData() {
        var table = document.getElementById("data-table");

        while (table.rows.length != 1) {
          table.deleteRow(-1);
        }
      }
    </script>
  </body>
</html>
